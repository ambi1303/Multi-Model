import{z as e,r as t,j as r,B as n,T as i}from"./index-Cu1Lb5wm.js";const s=({data:s,title:l,type:a="bar",height:o=300})=>{const d=e(),[h,x]=t.useState(null),c=(null==s?void 0:s.filter(e=>e&&"number"==typeof e.value&&!isNaN(e.value)&&e.value>0&&e.name))||[];if(0===c.length)return r.jsx(n,{sx:{width:"100%",height:o,p:2,display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(i,{variant:"body2",color:"text.secondary",children:"No valid data available to display"})});const p=Math.max(...c.map(e=>e.value)),f=Math.min(...c.map(e=>e.value)),u=400,m=o-80,y=20,j=20,g=40,v=60,M=u-v-j,k=m-y-g,w=e=>{const t=[d.palette.primary.main,d.palette.secondary.main,d.palette.success.main,d.palette.warning.main,d.palette.error.main,d.palette.info.main];return t[e%t.length]};switch(a){case"radar":return(()=>{const e=200,t=m/2,a=Math.min(M,k)/2-60,f=c.map(e=>({...e,normalizedValue:e.value/p}));return r.jsxs(n,{sx:{width:"100%",height:o,p:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[l&&r.jsx(i,{variant:"h6",sx:{mb:2,fontWeight:600,color:"text.primary"},children:l}),r.jsxs("svg",{width:u,height:m,style:{overflow:"visible"},children:[r.jsxs("defs",{children:[r.jsxs("radialGradient",{id:"radarGradient",cx:"50%",cy:"50%",r:"50%",children:[r.jsx("stop",{offset:"0%",stopColor:d.palette.primary.main,stopOpacity:.3}),r.jsx("stop",{offset:"100%",stopColor:d.palette.primary.main,stopOpacity:.1})]}),r.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:d.palette.primary.main}),r.jsx("stop",{offset:"100%",stopColor:d.palette.secondary.main})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),Array.from({length:5},(n,i)=>{const s=a/5*(i+1);return r.jsx("circle",{cx:e,cy:t,r:s,fill:"none",stroke:d.palette.divider,strokeWidth:4===i?"2":"1",strokeDasharray:i%2==0?"5,5":"none",opacity:.4},i)}),f.map((n,i)=>{const s=i/f.length*2*Math.PI-Math.PI/2,l=e+a*Math.cos(s),o=t+a*Math.sin(s);return r.jsx("line",{x1:e,y1:t,x2:l,y2:o,stroke:d.palette.divider,strokeWidth:"1.5",opacity:.5},i)}),r.jsx("polygon",{points:f.map((r,n)=>{const i=n/f.length*2*Math.PI-Math.PI/2;return`${e+a*r.normalizedValue*Math.cos(i)},${t+a*r.normalizedValue*Math.sin(i)}`}).join(" "),fill:"url(#radarGradient)",stroke:"url(#lineGradient)",strokeWidth:"3",filter:"url(#glow)",style:{transition:"all 0.3s ease",transformOrigin:`200px ${t}px`}}),f.map((n,i)=>{const s=i/f.length*2*Math.PI-Math.PI/2,l=e+a*n.normalizedValue*Math.cos(s),o=t+a*n.normalizedValue*Math.sin(s),c=a+30,p=e+c*Math.cos(s),u=t+c*Math.sin(s),m=h===i;return r.jsxs("g",{children:[r.jsx("circle",{cx:l,cy:o,r:m?"8":"6",fill:n.color||d.palette.primary.main,stroke:"#fff",strokeWidth:"3",filter:m?"url(#glow)":"none",style:{cursor:"pointer",transition:"all 0.3s ease",transform:m?"scale(1.2)":"scale(1)"},onMouseEnter:()=>x(i),onMouseLeave:()=>x(null)}),r.jsx("text",{x:p,y:u-5,textAnchor:p>e?"start":"end",fontSize:"11",fill:d.palette.text.primary,fontWeight:"600",style:{transition:"all 0.3s ease",fontSize:m?"12px":"11px"},children:n.name.length>12?n.name.slice(0,12)+"...":n.name}),r.jsx("text",{x:p,y:u+8,textAnchor:p>e?"start":"end",fontSize:"10",fill:d.palette.primary.main,fontWeight:"bold",style:{transition:"all 0.3s ease",fontSize:m?"11px":"10px"},children:n.value}),r.jsx("circle",{cx:l,cy:o,r:"15",fill:"transparent",style:{cursor:"pointer"},onMouseEnter:()=>x(i),onMouseLeave:()=>x(null)})]},i)}),Array.from({length:5},(e,n)=>{const i=Math.round(p/5*(n+1)),s=a/5*(n+1);return r.jsx("text",{x:208,y:t-s+4,fontSize:"9",fill:d.palette.text.secondary,fontWeight:"500",children:i},n)})]}),r.jsx(n,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:2,justifyContent:"center"},children:s.map((e,t)=>r.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,p:1,borderRadius:1,backgroundColor:h===t?d.palette.action.hover:"transparent",cursor:"pointer",transition:"all 0.3s ease",transform:h===t?"translateY(-2px)":"translateY(0)"},onMouseEnter:()=>x(t),onMouseLeave:()=>x(null),children:[r.jsx(n,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:e.color||w(t),boxShadow:h===t?2:0}}),r.jsxs(i,{variant:"caption",sx:{fontSize:"0.75rem",fontWeight:500},children:[e.name,": ",e.value]})]},t))})]})})();case"pie":case"doughnut":return(()=>{const e=c.reduce((e,t)=>e+t.value,0),t=140,s=m/2,a=Math.min(100,m/2)-20;let d=-90;return r.jsxs(n,{sx:{width:"100%",height:o,p:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[l&&r.jsx(i,{variant:"h6",sx:{mb:2,textAlign:"center"},children:l}),r.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:3,width:"100%"},children:[r.jsx("svg",{width:280,height:m,children:c.map((n,i)=>{const l=n.value/e*100,o=n.value/e*360;if(l<1)return null;const h=d,x=d+o;d+=o;const c=h*Math.PI/180,p=x*Math.PI/180,f=t+a*Math.cos(c),u=s+a*Math.sin(c),m=t+a*Math.cos(p),y=s+a*Math.sin(p),j=[`M 140 ${s}`,`L ${f} ${u}`,`A ${a} ${a} 0 ${o>180?1:0} 1 ${m} ${y}`,"Z"].join(" "),g=(h+x)/2*Math.PI/180,v=t+.7*a*Math.cos(g),M=s+.7*a*Math.sin(g);return r.jsxs("g",{children:[r.jsx("path",{d:j,fill:n.color||w(i),stroke:"#fff",strokeWidth:"3"}),l>8&&r.jsxs("text",{x:v,y:M,textAnchor:"middle",fontSize:"12",fill:"#fff",fontWeight:"bold",children:[l.toFixed(0),"%"]})]},i)})}),r.jsx(n,{sx:{display:"flex",flexDirection:"column",gap:1.5,minWidth:150},children:c.map((t,s)=>r.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(n,{sx:{width:16,height:16,borderRadius:"50%",backgroundColor:t.color||w(s),flexShrink:0}}),r.jsxs(n,{sx:{minWidth:0},children:[r.jsxs(i,{variant:"body2",sx:{fontSize:"0.875rem",fontWeight:500},children:[t.name,": ",t.value]}),r.jsxs(i,{variant:"caption",color:"text.secondary",children:["(",(t.value/e*100).toFixed(1),"%)"]})]})]},s))})]})]})})();case"line":return(()=>{const e=M/(c.length-1);return r.jsxs(n,{sx:{width:"100%",height:o,p:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[l&&r.jsx(i,{variant:"h6",sx:{mb:2},children:l}),r.jsxs("svg",{width:u,height:m,children:[r.jsx("defs",{children:r.jsx("pattern",{id:"grid-line",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:r.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:d.palette.divider,strokeWidth:"0.5"})})}),r.jsx("rect",{width:u,height:m,fill:"url(#grid-line)",opacity:"0.3"}),r.jsx("line",{x1:v,y1:y,x2:v,y2:m-g,stroke:d.palette.text.secondary,strokeWidth:"1"}),r.jsx("line",{x1:v,y1:m-g,x2:u-j,y2:m-g,stroke:d.palette.text.secondary,strokeWidth:"1"}),r.jsx("path",{d:`M ${c.map((t,r)=>`${0===r?"M":"L"} ${v+r*e} ${m-g-t.value/p*k}`).join(" ")}`,fill:"none",stroke:d.palette.primary.main,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),c.map((t,n)=>{const i=v+n*e,s=m-g-t.value/p*k;return r.jsxs("g",{children:[r.jsx("circle",{cx:i,cy:s,r:"4",fill:t.color||d.palette.primary.main,stroke:"#fff",strokeWidth:"2"}),r.jsx("text",{x:i,y:m-g+15,textAnchor:"middle",fontSize:"10",fill:d.palette.text.secondary,children:t.name.length>6?t.name.slice(0,6)+"...":t.name}),r.jsx("text",{x:i,y:s-10,textAnchor:"middle",fontSize:"10",fill:d.palette.text.primary,fontWeight:"bold",children:t.value})]},n)})]})]})})();default:return(()=>{const e=M/c.length*.8,t=M/c.length*.2;return r.jsxs(n,{sx:{width:"100%",height:o,p:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[l&&r.jsx(i,{variant:"h6",sx:{mb:2},children:l}),r.jsxs("svg",{width:u,height:m,children:[r.jsx("defs",{children:r.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:r.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:d.palette.divider,strokeWidth:"0.5"})})}),r.jsx("rect",{width:u,height:m,fill:"url(#grid)",opacity:"0.3"}),r.jsx("line",{x1:v,y1:y,x2:v,y2:m-g,stroke:d.palette.text.secondary,strokeWidth:"1"}),r.jsx("line",{x1:v,y1:m-g,x2:u-j,y2:m-g,stroke:d.palette.text.secondary,strokeWidth:"1"}),[0,.25,.5,.75,1].map((e,t)=>{const n=m-g-e*k,i=Math.round(f+(p-f)*e);return r.jsxs("g",{children:[r.jsx("line",{x1:v-5,y1:n,x2:v,y2:n,stroke:d.palette.text.secondary}),r.jsx("text",{x:v-10,y:n+4,textAnchor:"end",fontSize:"12",fill:d.palette.text.secondary,children:i})]},t)}),c.map((n,i)=>{const s=v+i*(e+t)+t/2,l=n.value/p*k,a=m-g-l;return r.jsxs("g",{children:[r.jsx("rect",{x:s,y:a,width:e,height:l,fill:n.color||w(i),rx:"2"}),r.jsx("text",{x:s+e/2,y:m-g+15,textAnchor:"middle",fontSize:"10",fill:d.palette.text.secondary,children:n.name.length>8?n.name.slice(0,8)+"...":n.name}),r.jsx("text",{x:s+e/2,y:a-5,textAnchor:"middle",fontSize:"10",fill:d.palette.text.primary,fontWeight:"bold",children:n.value})]},i)})]})]})})()}};export{s as S};
